<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Helm Values Configuration Options - Application Gateway Ingress Controller</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Helm Values Configuration Options";
        var mkdocs_page_input_path = "helm-values-documenation.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/go.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Application Gateway Ingress Controller
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../annotations/">Annotations</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Helm Values Configuration Options</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#available-options">Available options</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example">Example</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#security-context">Security Context</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Setup</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../setup/install-existing/">Brownfield Deployment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../setup/install-new-windows-cluster/">Preview - Greenfield Deployment (Windows Cluster)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../setup/install-new/">Greenfield Deployment</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorials</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial.e2e-ssl/">Tutorial: Setting up E2E SSL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial.general/">Tutorial: Basic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../features/agic-reconcile/">Agic reconcile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../features/appgw-ssl-certificate/">Appgw ssl certificate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../features/cookie-affinity/">Cookie affinity</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../features/custom-ingress-class/">Custom Ingress Class</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../features/multiple-namespaces/">Multiple Namespace Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../features/private-ip/">Using Private IP for internal routing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../features/probes/">Probes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How tos</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/continuous-deployment/">Continuous Deployment with AKS and AGIC using Azure Pipelines</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/dns/">Automate DNS updates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/helm-upgrade/">Upgrading AGIC using Helm</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/lets-encrypt/">Certificate issuance with LetsEncrypt.org</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/minimize-downtime-during-deployments/">Minimizing Downtime During Deployments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/networking/">How to setup networking between Application Gateway and AKS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/scale-applications-using-appgw-metrics/">Scale your Applications using Application Gateway Metrics (Beta)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/update-website/">Install MKDocs and plugins</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-tos/websockets/">Websockets</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../faq/">Frequrently Asked Questions: [WIP]</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Troubleshootings</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshootings/">Troubleshooting Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshootings/troubleshooting-agic-addon-identity-not-found/">Troubleshooting agic addon identity not found</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshootings/troubleshooting-agic-fails-with-aad-pod-identity-breakingchange/">Troubleshooting agic fails with aad pod identity breakingchange</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshootings/troubleshooting-agic-pod-stuck-in-not-ready-state/">Troubleshooting agic pod stuck in not ready state</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshootings/troubleshooting-installing-a-simple-application/">Troubleshooting installing a simple application</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ingress-v1/">Ingress v1</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../logging-levels/">Logging Levels</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Developers</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../developers/build/">Building the controller</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developers/contribute/">Contribution Guidelines</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developers/design/">Application Gateway Ingress Controller Design (WIP)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developers/developer-guideline/">Application Gateway Ingress Controller Development Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developers/nightly/">Install the latest nightly build</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developers/test/">Testing the controller</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Application Gateway Ingress Controller</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li><li>Helm Values Configuration Options</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/Azure/application-gateway-kubernetes-ingress/edit/master/docs/helm-values-documenation.md"> Edit on Azure/application-gateway-kubernetes-ingress</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="helm-values-configuration-options">Helm Values Configuration Options</h1>
<h2 id="available-options">Available options</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>verbosityLevel</code></td>
<td>3</td>
<td>Sets the verbosity level of the AGIC logging infrastructure. See <a href="troubleshooting.md#logging-levels">Logging Levels</a> for possible values.</td>
</tr>
<tr>
<td><code>reconcilePeriodSeconds</code></td>
<td></td>
<td>Enable periodic reconciliation to checks if the latest gateway configuration is different from what it cached. Range: 30 - 300 seconds. Disabled by default.</td>
</tr>
<tr>
<td><code>appgw.applicationGatewayID</code></td>
<td></td>
<td>Resource Id of the Application Gateway. Example: <code>applicationgatewayd0f0</code></td>
</tr>
<tr>
<td><code>appgw.subscriptionId</code></td>
<td>Default is agent node pool's subscriptionId derived from CloudProvider config</td>
<td>The Azure Subscription ID in which App Gateway resides. Example: <code>a123b234-a3b4-557d-b2df-a0bc12de1234</code></td>
</tr>
<tr>
<td><code>appgw.resourceGroup</code></td>
<td>Default is agent node pool's resource group derived from CloudProvider config</td>
<td>Name of the Azure Resource Group in which App Gateway was created. Example: <code>app-gw-resource-group</code></td>
</tr>
<tr>
<td><code>appgw.name</code></td>
<td></td>
<td>Name of the Application Gateway. Example: <code>applicationgatewayd0f0</code></td>
</tr>
<tr>
<td><code>appgw.environment</code></td>
<td><code>AZUREPUBLICCLOUD</code></td>
<td>Specify which cloud environment. Possbile values: <code>AZURECHINACLOUD</code>, <code>AZUREGERMANCLOUD</code>, <code>AZUREPUBLICCLOUD</code>, <code>AZUREUSGOVERNMENTCLOUD</code></td>
</tr>
<tr>
<td><code>appgw.shared</code></td>
<td>false</td>
<td>This boolean flag should be defaulted to <code>false</code>. Set to <code>true</code> should you need a <a href="../setup/install-existing/#multi-cluster--shared-app-gateway">Shared App Gateway</a>.</td>
</tr>
<tr>
<td><code>appgw.subResourceNamePrefix</code></td>
<td>No prefix if empty</td>
<td>Prefix that should be used in the naming of the Application Gateway's sub-resources</td>
</tr>
<tr>
<td><code>kubernetes.watchNamespace</code></td>
<td>Watches all if empty</td>
<td>Specify the name space, which AGIC should watch. This could be a single string value, or a comma-separated list of namespaces.</td>
</tr>
<tr>
<td><code>kubernetes.securityContext</code></td>
<td><code>runAsUser: 0</code></td>
<td>Specify security context to use with AGIC deployment. By default, AGIC will assume <code>root</code> permission. Jump to <a href="#security-context">Security Context</a> for more information.</td>
</tr>
<tr>
<td><code>kubernetes.podAnnotations</code></td>
<td><code>{}</code></td>
<td>Specify custom annotations for AGIC pod</td>
</tr>
<tr>
<td><code>kubernetes.nodeSelector</code></td>
<td><code>{}</code></td>
<td>Scheduling node selector</td>
</tr>
<tr>
<td><code>kubernetes.tolerations</code></td>
<td><code>[]</code></td>
<td>Scheduling tolerations</td>
</tr>
<tr>
<td><code>kubernetes.affinity</code></td>
<td><code>{}</code></td>
<td>Scheduling affinity</td>
</tr>
<tr>
<td><code>kubernetes.ingressClass</code></td>
<td><code>azure/application-gateway</code></td>
<td>Specify a <a href="features\custom-ingress-class.md">custom ingress class</a> which will be used to match <code>kubernetes.io/ingress.class</code> in ingress manifest</td>
</tr>
<tr>
<td><code>rbac.enabled</code></td>
<td>false</td>
<td>Specify true if kubernetes cluster is rbac enabled</td>
</tr>
<tr>
<td><code>armAuth.type</code></td>
<td></td>
<td>could be <code>aadPodIdentity</code> or <code>servicePrincipal</code></td>
</tr>
<tr>
<td><code>armAuth.identityResourceID</code></td>
<td></td>
<td>Resource ID of the Azure Managed Identity</td>
</tr>
<tr>
<td><code>armAuth.identityClientId</code></td>
<td></td>
<td>The Client ID of the Identity. See below for more information on Identity</td>
</tr>
<tr>
<td><code>armAuth.secretJSON</code></td>
<td></td>
<td>Only needed when Service Principal Secret type is chosen (when <code>armAuth.type</code> has been set to <code>servicePrincipal</code>)</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td><code>{}</code></td>
<td>(Legacy: use <code>kubernetes.nodeSelector</code> instead) Scheduling node selector</td>
</tr>
</tbody>
</table>
<h2 id="example">Example</h2>
<div class="highlight"><pre><span></span><span class="nt">appgw</span><span class="p">:</span>
    <span class="nt">applicationGatewayID</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;application-gateway-resource-id&gt;</span>
    <span class="nt">environment</span><span class="p">:</span> <span class="nt">&quot;AZUREUSGOVERNMENTCLOUD&quot; # default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AZUREPUBLICCLOUD</span>

<span class="nt">armAuth</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aadPodIdentity</span>
    <span class="nt">identityResourceID</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;identityResourceId&gt;</span>
    <span class="nt">identityClientID</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">&lt;identityClientId&gt;</span>

<span class="nt">kubernetes</span><span class="p">:</span>
  <span class="nt">nodeSelector</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">tolerations</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">affinity</span><span class="p">:</span> <span class="p p-Indicator">{}</span>

<span class="nt">rbac</span><span class="p">:</span>
    <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
<hr />
<h3 id="security-context">Security Context</h3>
<p>By default, AGIC will assume <code>root</code> permission which allows it to read <code>cloud-provider</code> config and get meta-data information about the cluster.
If you want AGIC to run without <code>root</code> access, then make sure that AGIC is installed with atleast the following information to run successfully:
* <code>appgw.subscriptionId</code>, <code>appgw.resourceGroup</code> and <code>appgw.name</code><br />
or
* <code>appgw.applicationGatewayID</code></p>
<p>AGIC also uses <code>cloud-provider</code> config to get Node's Virtual Network Name / Subscription and Route table name. If AGIC is not able to reach this information,  It will skip assigning the Node's route table to Application Gateway's subnet which is required when using <code>kubenet</code> network plugin. To workaround, this assignment can be performed manually.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../annotations/" class="btn btn-neutral float-left" title="Annotations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../setup/install-existing/" class="btn btn-neutral float-right" title="Brownfield Deployment">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../annotations/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../setup/install-existing/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
